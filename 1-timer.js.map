{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nconst input = document.querySelector(\"#datetime-picker\")\nconst button = document.querySelector(\"button\");\nbutton.disabled = true;\nconst daysValue = document.querySelector(\".value[data-days]\")\nconst hoursValue = document.querySelector(\".value[data-hours]\")\nconst minutesValue = document.querySelector(\".value[data-minutes]\")\nconst secondsValue = document.querySelector(\".value[data-seconds]\")\n\n\n    \n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n        if (selectedDates.length > 0) {\n            userSelectedDate = selectedDates[0];\n            const currentDate = Date.now();\n            if (userSelectedDate <= currentDate) {\n                iziToast.error({\n                    message: \"âŒ Please choose a date in the future\",\n                    position: 'topRight',\n                });\n                button.disabled = true;\n\n            }\n            else {\n                button.disabled = false;\n                \n            }\n        }\n  },\n};\n\nflatpickr(`input[type=\"text\"]`, options);\n\nbutton.addEventListener(\"click\", start);\nfunction start() {\n    button.disabled = true;\n    input.disabled = true;\n    const intervalId = setInterval(() => {\n        const currentTime = Date.now();\n        const timer = userSelectedDate.getTime() - currentTime;\n        const time = convertMs(timer)\n        if (timer <= 0) {\n            clearInterval(intervalId);\n            onTick({ days: \"00\", hours: \"00\", minutes: \"00\", seconds: \"00\" });\n            input.disabled = false;\n            return;\n        }\n        console.log(time);\n        onTick(time);\n    }, 1000);\n    \n}\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return {days, hours, minutes, seconds};\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction onTick({ days, hours, minutes, seconds }) {\n    daysValue.textContent = days;\n    hoursValue.textContent = hours;\n    minutesValue.textContent = minutes;\n    secondsValue.textContent = seconds;\n}"],"names":["input","button","daysValue","hoursValue","minutesValue","secondsValue","userSelectedDate","options","selectedDates","currentDate","iziToast","flatpickr","start","intervalId","currentTime","timer","time","convertMs","onTick","ms","days","addLeadingZero","hours","minutes","seconds","value"],"mappings":"0IAKA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,SAAW,GAClB,MAAMC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAKlE,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CAEnB,GADA,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBA,EAAc,OAAS,EAAG,CAC1BF,EAAmBE,EAAc,CAAC,EAClC,MAAMC,EAAc,KAAK,MACrBH,GAAoBG,GACpBC,EAAS,MAAM,CACX,QAAS,uCACT,SAAU,UAC9B,CAAiB,EACDT,EAAO,SAAW,IAIlBA,EAAO,SAAW,EAGzB,CACN,CACH,EAEAU,EAAU,qBAAsBJ,CAAO,EAEvCN,EAAO,iBAAiB,QAASW,CAAK,EACtC,SAASA,GAAQ,CACbX,EAAO,SAAW,GAClBD,EAAM,SAAW,GACjB,MAAMa,EAAa,YAAY,IAAM,CACjC,MAAMC,EAAc,KAAK,MACnBC,EAAQT,EAAiB,QAAO,EAAKQ,EACrCE,EAAOC,EAAUF,CAAK,EAC5B,GAAIA,GAAS,EAAG,CACZ,cAAcF,CAAU,EACxBK,EAAO,CAAE,KAAM,KAAM,MAAO,KAAM,QAAS,KAAM,QAAS,IAAI,CAAE,EAChElB,EAAM,SAAW,GACjB,MACH,CACD,QAAQ,IAAIgB,CAAI,EAChBE,EAAOF,CAAI,CACd,EAAE,GAAI,CAEX,CACA,SAASC,EAAUE,EAAI,CAMrB,MAAMC,EAAOC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EAC1CG,EAAQD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EACpDI,EAAUF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEK,EAAUH,EAAe,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAC,KAAAC,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEA,SAASH,EAAeI,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASP,EAAO,CAAE,KAAAE,EAAM,MAAAE,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC/CtB,EAAU,YAAckB,EACxBjB,EAAW,YAAcmB,EACzBlB,EAAa,YAAcmB,EAC3BlB,EAAa,YAAcmB,CAC/B"}